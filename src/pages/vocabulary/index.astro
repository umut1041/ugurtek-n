---
import MainLayout from "../../layouts/MainLayout.astro";
import unitsData from "../../data/vocabulary/units.json";

type WordEntry = { de: string; tr: string };
type Unit = (typeof unitsData.units)[number] & { words?: WordEntry[]; phrases?: WordEntry[] };
const units: Unit[] = unitsData.units as Unit[];

const unitIndex = (id: string) => units.findIndex((u) => u.id === id) + 1;

const defaultVocab: Record<string, { words: WordEntry[]; phrases: WordEntry[] }> = {
  ankommen: {
    words: [
      { de: "ankommen", tr: "varmak" },
      { de: "der Bahnhof / der Flughafen", tr: "istasyon / havalimanÄ±" },
      { de: "wo ist â€¦? / wie komme ich zu â€¦?", tr: "â€¦ nerede? / â€¦'a nasÄ±l giderim?" },
    ],
    phrases: [],
  },
  daheim: {
    words: [
      { de: "die Wohnung / das Zimmer", tr: "daire / oda" },
      { de: "die KÃ¼che / das Badezimmer", tr: "mutfak / banyo" },
      { de: "die Familie / der Vater / die Mutter", tr: "aile / baba / anne" },
      { de: "der Bruder / die Schwester / die GroÃŸeltern", tr: "erkek kardeÅŸ / kÄ±z kardeÅŸ / bÃ¼yÃ¼kanneler-bÃ¼yÃ¼kbabalar" },
    ],
    phrases: [
      { de: "Ich wohne in â€¦ / Meine Familie hat â€¦ Personen. / Ich habe einen Bruder / eine Schwester.", tr: "" },
    ],
  },
  "essen-trinken": {
    words: [
      { de: "das Essen / das GetrÃ¤nk", tr: "yemek / iÃ§ecek" },
      { de: "frÃ¼hstÃ¼cken / zu Mittag essen", tr: "kahvaltÄ± yapmak / Ã¶ÄŸle yemeÄŸi yemek" },
      { de: "Ich hÃ¤tte gern â€¦ / Die Rechnung, bitte.", tr: "â€¦ istiyorum. / Hesap lÃ¼tfen." },
    ],
    phrases: [],
  },
  arbeitswelt: {
    words: [
      { de: "der Beruf / die Arbeit / die Firma", tr: "meslek / iÅŸ / ÅŸirket" },
      { de: "der Kurs / lernen / arbeiten", tr: "kurs / Ã¶ÄŸrenmek / Ã§alÄ±ÅŸmak" },
      { de: "von â€¦ bis â€¦", tr: "â€¦-den â€¦-e kadar" },
    ],
    phrases: [
      { de: "Ich bin SchÃ¼ler / Student. / Ich arbeite bei â€¦ / Ich mÃ¶chte einen Deutschkurs machen.", tr: "" },
    ],
  },
  "sport-fitness": {
    words: [
      { de: "Sport machen / FuÃŸball spielen", tr: "spor yapmak / futbol oynamak" },
      { de: "gesund / fit", tr: "saÄŸlÄ±klÄ± / formda" },
    ],
    phrases: [],
  },
  "schule-ausbildung": {
    words: [
      { de: "die Schule / der Unterricht / die PrÃ¼fung", tr: "okul / ders / sÄ±nav" },
      { de: "der Lehrer / die Lehrerin / der Student", tr: "Ã¶ÄŸretmen / Ã¶ÄŸrenci" },
    ],
    phrases: [],
  },
  "feste-geschenke": {
    words: [
      { de: "das Fest / das Geschenk / Geburtstag", tr: "kutlama / hediye / doÄŸum gÃ¼nÃ¼" },
      { de: "Herzlichen GlÃ¼ckwunsch! / Ich lade dich ein.", tr: "Tebrikler! / Seni davet ediyorum." },
    ],
    phrases: [],
  },
  "am-wochenende": {
    words: [
      { de: "das Wochenende / die Freizeit", tr: "hafta sonu / boÅŸ zaman" },
      { de: "Was machst du am Wochenende? / Ich treffe Freunde.", tr: "" },
    ],
    phrases: [],
  },
  "meine-sachen": {
    words: [
      { de: "mein / meine / meine Sachen", tr: "benim (eÅŸyalarÄ±m)" },
      { de: "verlieren / finden / kaufen", tr: "kaybetmek / bulmak / satÄ±n almak" },
    ],
    phrases: [],
  },
  kommunikation: {
    words: [
      { de: "anrufen / die E-Mail / die Nachricht", tr: "aramak / e-posta / mesaj" },
      { de: "Kann ich â€¦ sprechen? / Ich schreibe dir eine E-Mail.", tr: "" },
    ],
    phrases: [],
  },
  unterwegs: {
    words: [
      { de: "der Bus / die Bahn / das Fahrrad", tr: "otobÃ¼s / tren / bisiklet" },
      { de: "die Fahrkarte / die Haltestelle", tr: "bilet / durak" },
    ],
    phrases: [],
  },
  reisen: {
    words: [
      { de: "reisen / der Urlaub / das Hotel", tr: "seyahat etmek / tatil / otel" },
      { de: "Ich mÃ¶chte eine Reservierung machen. / Ein Zimmer fÃ¼r eine Nacht.", tr: "" },
    ],
    phrases: [],
  },
  "auf-der-bank": {
    words: [
      { de: "die Bank / das Konto / das Geld", tr: "banka / hesap / para" },
      { de: "einzahlen / abheben", tr: "yatÄ±rmak / Ã§ekmek" },
    ],
    phrases: [],
  },
  lebensstationen: {
    words: [
      { de: "geboren werden / heiraten / der Geburtstag", tr: "doÄŸmak / evlenmek / doÄŸum gÃ¼nÃ¼" },
      { de: "frÃ¼her / spÃ¤ter / in der Zukunft", tr: "eskiden / sonra / gelecekte" },
    ],
    phrases: [],
  },
};

function getWords(unit: Unit): WordEntry[] {
  return unit.words && unit.words.length > 0 ? unit.words : (defaultVocab[unit.id]?.words ?? []);
}
function getPhrases(unit: Unit): WordEntry[] {
  return unit.phrases && unit.phrases.length > 0 ? unit.phrases : (defaultVocab[unit.id]?.phrases ?? []);
}
---

<MainLayout
  title="A2 Kelime & KalÄ±plar"
  description="Goethe A2 seviyesi iÃ§in 14 Ã¼nite tema bazlÄ± kelime listeleri ve hazÄ±r kalÄ±plar."
>
  <section>
    <h1>A2 Kelime &amp; KalÄ±plar</h1>
    <p>
      A2 sÄ±navÄ±nda baÅŸarÄ±lÄ± olabilmek iÃ§in gÃ¼nlÃ¼k hayatÄ±n farklÄ± alanlarÄ±ndan
      yeterli kelime ve ifade biriktirmen gerekir. AÅŸaÄŸÄ±da <strong>14 Ã¼nite</strong> tema
      bazlÄ± listelenmiÅŸtir.
    </p>
    <h2>Bu sayfada ne Ã¶ÄŸreneceksin?</h2>
    <ul>
      <li>14 Ã¼nite: Ankommen, Daheim, Essen und trinken, Arbeitswelt, Sport und Fitness, Schule und Ausbildung, Feste und Geschenke, Am Wochenende, Meine Sachen, Kommunikation, Unterwegs, Reisen, Auf der Bank, Lebensstationen</li>
      <li>Her Ã¼nite iÃ§in tema kelimeleri ve Schreiben/Sprechen'de kullanabileceÄŸin kalÄ±plar</li>
    </ul>
    <p class="goethe-cta">
      <a href="/vocabulary/goethe" class="card goethe-link">ğŸ“‹ <strong>Goethe Kelime Listesi (A2)</strong> â€” ResmÃ® sÄ±nav sÃ¶zcÃ¼k listesi (Wortgruppen + alfabetik)</a>
      <a href="/vocabulary/verben-praepositionen" class="card goethe-link">ğŸ”— <strong>Verben mit PrÃ¤positionen</strong> â€” Fiil + edat (D/A) ve Ã¶rnek cÃ¼mleler</a>
      <a href="/vocabulary/reflexive-verben" class="card goethe-link">ğŸ”„ <strong>Reflexive Verben</strong> â€” DÃ¶nÃ¼ÅŸlÃ¼ fiiller ve Ã¶rnek cÃ¼mleler</a>
    </p>
  </section>

  <section>
    <h2>14 Ãœnite â€“ Konu Listesi</h2>
    <div class="cards-grid units-grid">
      {units.map((unit) => (
        <a class="card" href={`#${unit.id}`}>
          <h3>{unit.title}</h3>
          <p>{unit.titleTr} â€“ {unit.description}</p>
        </a>
      ))}
    </div>
  </section>

  {units.map((unit) => {
    const words = getWords(unit);
    const phrases = getPhrases(unit);
    const num = unitIndex(unit.id);
    return (
      <section id={unit.id} class="vocab-section">
        <h2>{num} â€“ {unit.title}</h2>
        <p class="unit-desc">{unit.titleTr} â€“ {unit.description}</p>
        {words.length > 0 && (
          <>
            <h3>{phrases.length > 0 ? "Kelimeler" : "Kilit kelimeler"}</h3>
            <ul class="vocab-list">
              {words.map((w) => (
                <li><strong>{w.de}</strong>{w.tr ? ` â€“ ${w.tr}` : ""}</li>
              ))}
            </ul>
          </>
        )}
        {phrases.length > 0 && (
          <>
            <h3>KalÄ±plar</h3>
            <ul class="vocab-list">
              {phrases.map((p) => (
                <li><strong>{p.de}</strong>{p.tr ? ` â€“ ${p.tr}` : ""}</li>
              ))}
            </ul>
          </>
        )}
      </section>
    );
  })}

  <section class="next-step">
    <h2>Sonraki adÄ±m</h2>
    <p>
      Kelimeleri cÃ¼mle iÃ§inde kullanmak iÃ§in <a href="/grammar">Gramer</a> sayfasÄ±ndaki
      Perfekt ve Modalverb Ã¶rneklerini tekrar et; sonra <a href="/exam/lesen">Lesen</a> ile
      okuma pratiÄŸi yap.
    </p>
  </section>
</MainLayout>

<style>
  .goethe-cta {
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .goethe-cta .goethe-link {
    display: inline-block;
    padding: 0.75rem 1rem;
  }
</style>
